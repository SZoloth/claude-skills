# Diagram Pattern Templates

This reference provides reusable templates and patterns for each diagram type.

## System Architecture Patterns

### Basic Service Communication

```
┌──────────┐         ┌──────────┐         ┌──────────┐
│ Client   │ ──────→ │   API    │ ──────→ │ Service  │
└──────────┘         └──────────┘         └──────────┘
                           │
                           ↓
                     ┌──────────┐
                     │    DB    │
                     └──────────┘
```

### Microservices with Message Queue

```
┌──────────┐         ┌──────────┐         ┌──────────┐
│ Service  │         │  Queue   │         │ Service  │
│    A     │ ──────→ │ ║│││││║  │ ──────→ │    B     │
└──────────┘         └──────────┘         └──────────┘
```

### Layered Architecture

```
┌─────────────────────────────────────┐
│          Presentation Layer         │
└─────────────────────────────────────┘
                 │
                 ↓
┌─────────────────────────────────────┐
│          Business Layer             │
└─────────────────────────────────────┘
                 │
                 ↓
┌─────────────────────────────────────┐
│           Data Layer                │
└─────────────────────────────────────┘
```

### Cloud Architecture with Boundaries

```
╔═══════════════════════ Cloud Provider ═══════════════════════╗
║                                                               ║
║  ┌ ─ ─ ─ ─ ─ ─ Frontend ─ ─ ─ ─ ─ ─ ┐                      ║
║                                                               ║
║   ┌─────────┐         ┌─────────┐                            ║
║  ││   CDN   │        ││  Web    │                            ║
║   └─────────┘         └─────────┘                            ║
║  └ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ┘                          ║
║                          │                                    ║
║                          ↓                                    ║
║  ┌ ─ ─ ─ ─ ─ ─ Backend ─ ─ ─ ─ ─ ─ ─ ┐                     ║
║                                                               ║
║   ┌─────────┐         ┌─────────┐         ╭─────────╮       ║
║  ││   API   │  ─────→ ││ Service │  ─────→ │   DB    │      ║
║   └─────────┘         └─────────┘         ╰─────────╯       ║
║  └ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ┘                   ║
║                                                               ║
╚═══════════════════════════════════════════════════════════════╝
```

### Database with Cache

```
┌──────────┐         ┌──────────┐
│ Service  │ ──────→ │  Cache   │
└──────────┘         └──────────┘
     │                     │
     │ (cache miss)        │
     ↓                     ↓
   ╭─────────╮       (cache hit)
   │   DB    │
   ╰─────────╯
```

### API Gateway Pattern

```
                    ┌──────────────┐
                    │ API Gateway  │
                    └──────────────┘
                     │      │      │
        ┌────────────┘      │      └────────────┐
        ↓                   ↓                   ↓
  ┌──────────┐       ┌──────────┐       ┌──────────┐
  │  Auth    │       │  Users   │       │ Orders   │
  │ Service  │       │ Service  │       │ Service  │
  └──────────┘       └──────────┘       └──────────┘
```

## Workflow Process Patterns

### Linear Process Flow

```
╭──────────╮         ┌──────────┐         ┌──────────┐         ╭──────────╮
│  START   │ ──────→ │  Step 1  │ ──────→ │  Step 2  │ ──────→ │   END    │
╰──────────╯         └──────────┘         └──────────┘         ╰──────────╯
```

### Decision Flow

```
┌──────────┐
│  Step 1  │
└──────────┘
     │
     ↓
    ╱╲
   ╱  ╲
  ╱ ? ?╲  ← Decision Point
  ╲    ╱
   ╲  ╱
    ╲╱
   │  │
Yes│  │No
   │  │
   ↓  ↓
┌────┐ ┌────┐
│ A  │ │ B  │
└────┘ └────┘
```

### Swim Lane Diagram

```
┌─────────────────────────────────────────────────────────┐
│ Customer     │  Action 1  │ ────→ │  Action 2  │       │
├─────────────────────────────────────────────────────────┤
│ Frontend     │            │ ────→ │  Display   │ ────→ │
├─────────────────────────────────────────────────────────┤
│ Backend      │            │       │  Process   │       │
└─────────────────────────────────────────────────────────┘
               Time ──────────────────────→
```

### Parallel Processes

```
                    ┌──────────┐
                    │  Start   │
                    └──────────┘
                         │
          ┌──────────────┼──────────────┐
          ↓              ↓              ↓
    ┌─────────┐    ┌─────────┐    ┌─────────┐
    │ Task A  │    │ Task B  │    │ Task C  │
    └─────────┘    └─────────┘    └─────────┘
          │              │              │
          └──────────────┼──────────────┘
                         ↓
                    ┌──────────┐
                    │  Merge   │
                    └──────────┘
```

### Loop Pattern

```
┌──────────┐
│  Start   │
└──────────┘
     │
     ↓
┌──────────┐  ←────────┐
│ Process  │           │
└──────────┘           │
     │                 │
     ↓                 │
    ╱╲                │
   ╱  ╲  Continue?    │
   ╲  ╱               │
    ╲╱                │
   │  │               │
Yes│  │No             │
   │  └───────────────┘
   ↓
┌──────────┐
│   End    │
└──────────┘
```

## System Map Patterns (Donella Meadows Style)

### Basic Causal Loop

```
           (+)
    ┌──────────────┐
    │              ↓
┌────────┐     ┌────────┐
│   A    │     │   B    │
└────────┘     └────────┘
    ↑              │
    │      (-)     │
    └──────────────┘

      R1 (Reinforcing Loop)
```

### Balancing Loop

```
           (+)
    ┌──────────────┐
    │              ↓
┌────────┐     ┌────────┐
│ Actual │     │  Gap   │
└────────┘     └────────┘
    ↑              │
    │      (+)     │
    │              ↓
    │         ┌────────┐
    │         │ Action │
    │         └────────┘
    │              │
    │      (+)     │
    └──────────────┘

      B1 (Balancing Loop)
```

### Stock and Flow

```
            Flow In
    ~~~~~  ─────>◁─────→  ┌─────────┐  ─────>◁─────→  ~~~~~
                           │  Stock  │                Flow Out
                           └─────────┘
```

### Reinforcing and Balancing Together

```
                         (+)
              ┌───────────────────────┐
              │                       ↓
          ┌────────┐  (+)        ┌────────┐
    ┌────→│Revenue │─────────────→│ Profit │
    │     └────────┘              └────────┘
    │         │                       │
    │         │ (+)                   │ (+)
    │         ↓                       ↓
    │    ┌────────┐              ┌────────┐
    │    │  R&D   │              │ Market │
    │    └────────┘              └────────┘
    │         │                       │
    │         │ (+)                   │ (+)
    │         └───────────┬───────────┘
    │                     ↓
    │                ┌────────┐
    └────────────────│Product │
         (+)         │Quality │
                     └────────┘

         R1 (Growth Loop)
```

### Delay in Causal Link

```
┌────────┐         ┌────────┐
│   A    │──||────→│   B    │
└────────┘         └────────┘
        Delay (||)
```

### Complex System Map

```
                Sources/Sinks as clouds
    ~~~~~                            ~~~~~
      │                                ↑
      │ (+)                            │ (+)
      ↓                                │
  ┌────────┐  (+)   ┌────────┐  (+)  ┌────────┐
  │  Input │─────→  │Process │─────→ │ Output │
  └────────┘        └────────┘        └────────┘
      ↑                  │                 │
      │                  │ (-)             │
      │     R1           ↓                 │
      │            ┌────────┐              │
      │            │ Waste  │              │
      │            └────────┘              │
      │                 │                  │
      │                 │ (+)              │
      │                 ↓                  │
      │            ┌────────┐              │
      └────────────│Feedback│←─────────────┘
           (-)     └────────┘      (+)

           B1 (Quality Control)
```

## Service Blueprint Patterns

### Basic Service Blueprint

```
─────────────────────────────────────────────────────────────
  Customer Actions
─────────────────────────────────────────────────────────────
  ┌──────────┐         ┌──────────┐         ┌──────────┐
  │  Browse  │ ──────→ │  Select  │ ──────→ │ Checkout │
  └──────────┘         └──────────┘         └──────────┘
═════════════════════════════════════════════════════════════
  Line of Interaction
─────────────────────────────────────────────────────────────
  Frontstage (visible to customer)
─────────────────────────────────────────────────────────────
  ┌──────────┐         ┌──────────┐         ┌──────────┐
  │  Show    │         │ Confirm  │         │ Process  │
  │Catalog   │         │Selection │         │ Payment  │
  └──────────┘         └──────────┘         └──────────┘
═════════════════════════════════════════════════════════════
  Line of Visibility
─────────────────────────────────────────────────────────────
  Backstage (invisible to customer)
─────────────────────────────────────────────────────────────
  ┌──────────┐         ┌──────────┐         ┌──────────┐
  │  Fetch   │         │ Reserve  │         │ Validate │
  │  Data    │         │Inventory │         │ Payment  │
  └──────────┘         └──────────┘         └──────────┘
       │                     │                     │
       ↓                     ↓                     ↓
═════════════════════════════════════════════════════════════
  Internal Interaction Line
─────────────────────────────────────────────────────────────
  Support Processes
─────────────────────────────────────────────────────────────
  ┌──────────┐         ┌──────────┐         ┌──────────┐
  │ Database │         │Inventory │         │ Payment  │
  │  System  │         │  System  │         │ Gateway  │
  └──────────┘         └──────────┘         └──────────┘
─────────────────────────────────────────────────────────────
               Time ──────────────────────→
```

### Service Blueprint with Pain Points

```
─────────────────────────────────────────────────────────────
  Customer Actions
─────────────────────────────────────────────────────────────
  ┌──────────┐         ┌──────────┐
  │  Login   │ ──────→ │   Wait   │  ⚠ Pain Point: Long wait
  └──────────┘         └──────────┘
       │                     │
═══════│═════════════════════│═════════════════════════════
  Line of Interaction        │
───────│────────────────────────────────────────────────────
  Frontstage                 │
───────│────────────────────────────────────────────────────
       │               ┌──────────┐
       │               │  Queue   │
       │               │  System  │
       │               └──────────┘
       │                     │
═══════│═════════════════════│═════════════════════════════
  Line of Visibility         │
───────│────────────────────────────────────────────────────
  Backstage                  │
───────↓────────────────────────────────────────────────────
  ┌──────────┐         ┌──────────┐
  │  Verify  │ ──────→ │  Fetch   │
  │   Auth   │         │  Data    │
  └──────────┘         └──────────┘
                            │
                            ↓
═════════════════════════════════════════════════════════════
  Support Processes
─────────────────────────────────────────────────────────────
                       ┌──────────┐
                       │   API    │  ⚠ Pain Point: Slow API
                       └──────────┘
─────────────────────────────────────────────────────────────
```

### Multi-channel Service Blueprint

```
─────────────────────────────────────────────────────────────
  Physical Channel
─────────────────────────────────────────────────────────────
  ┌──────────┐         ┌──────────┐
  │ In-store │ ──────→ │ Purchase │
  └──────────┘         └──────────┘
─────────────────────────────────────────────────────────────
  Digital Channel
─────────────────────────────────────────────────────────────
  ┌──────────┐         ┌──────────┐
  │  Online  │ ──────→ │ Checkout │
  └──────────┘         └──────────┘
═════════════════════════════════════════════════════════════
  Shared Backend
─────────────────────────────────────────────────────────────
       │                     │
       └──────────┬──────────┘
                  ↓
            ┌──────────┐
            │ Order    │
            │ System   │
            └──────────┘
─────────────────────────────────────────────────────────────
```

## Mixed/Hybrid Patterns

### Nested Architecture

```
╔═══════════════════════════════════════════════════╗
║                  System Boundary                  ║
║                                                   ║
║  ┌ ─ ─ ─ ─ ─ Subsystem A ─ ─ ─ ─ ─ ┐            ║
║                                                   ║
║   ┌─────────┐         ┌─────────┐                ║
║  ││Component│        ││Component│                ║
║   │    1    │         │    2    │                ║
║   └─────────┘         └─────────┘                ║
║  └ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ┘              ║
║                          │                        ║
║                          ↓                        ║
║  ┌ ─ ─ ─ ─ ─ Subsystem B ─ ─ ─ ─ ─ ┐            ║
║                                                   ║
║   ┌─────────┐                                     ║
║  ││Component│                                     ║
║   │    3    │                                     ║
║   └─────────┘                                     ║
║  └ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ┘              ║
║                                                   ║
╚═══════════════════════════════════════════════════╝
```

### Process with System Feedback

Combining workflow and system map elements:

```
     Process Flow
┌──────────┐         ┌──────────┐
│  Input   │ ──────→ │ Process  │
└──────────┘         └──────────┘
                          │
                          ↓
                     ┌──────────┐
                     │  Output  │
                     └──────────┘
                          │
                          │ (+)
                          ↓
                     ┌──────────┐
                     │ Quality  │
                     │  Metric  │
                     └──────────┘
                          │
           (-)            │
    ┌──────────────────────┘
    │              R1
    ↓
┌──────────┐
│Adjustment│
└──────────┘
```

## Tips for Using Patterns

1. **Start with the simplest pattern** that fits your use case
2. **Customize labels** to match your specific domain
3. **Add or remove elements** as needed - these are templates, not rigid structures
4. **Combine patterns** when showing complex systems
5. **Maintain consistent spacing** within each pattern
6. **Use alignment** to keep visual clarity
7. **Scale appropriately** - don't make diagrams too dense
